<?php
session_start();
if (!isset($_SESSION['user_id'])) {
    header("Location: login.html");
    exit();
}

$servername = "localhost";
$username = "root";
$password = "root";
$dbname = "it320";

// ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™
$conn = new mysqli($servername, $username, $password, $dbname);
if ($conn->connect_error) {
    die("ŸÅÿ¥ŸÑ ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™: " . $conn->connect_error);
}

$user_id = $_SESSION['user_id'];

// ÿ≠ÿ∞ŸÅ ŸÖŸÜÿ¥Ÿàÿ± (ÿ•ÿ∞ÿß ÿ™ŸÖ ÿ∑ŸÑÿ® ÿ∞ŸÑŸÉ)
if ($_SERVER["REQUEST_METHOD"] == "POST" && isset($_POST["delete_post_id"])) {
    $delete_post_id = intval($_POST["delete_post_id"]);
    $stmt_del = $conn->prepare("DELETE FROM posts WHERE PostID = ? AND UserID = ?");
    $stmt_del->bind_param("ii", $delete_post_id, $user_id);
    $stmt_del->execute();
    $stmt_del->close();
    // ŸäŸÖŸÉŸÜŸÉ ÿ•ÿ∂ÿßŸÅÿ© ÿ±ÿ≥ÿßŸÑÿ© ŸÜÿ¨ÿßÿ≠ ÿ£Ÿà ÿ•ÿπÿßÿØÿ© ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿµŸÅÿ≠ÿ© ŸáŸÜÿß
}

// ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨
if (isset($_GET['action']) && $_GET['action'] == 'logout') {
    session_unset();
    session_destroy();
    header("Location: login.html");
    exit();
}

// ÿ¨ŸÑÿ® ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ
$stmt = $conn->prepare("SELECT * FROM users WHERE UserID = ?");
$stmt->bind_param("i", $user_id);
$stmt->execute();
$user = $stmt->get_result()->fetch_assoc();
$stmt->close();

// ÿ¨ŸÑÿ® ÿßŸÑŸÖŸÜÿ¥Ÿàÿ±ÿßÿ™ ÿßŸÑÿÆÿßÿµÿ© ÿ®ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ
$posts = [];
$stmt = $conn->prepare("SELECT * FROM posts WHERE UserID = ?");
$stmt->bind_param("i", $user_id);
$stmt->execute();
$result = $stmt->get_result();
while ($row = $result->fetch_assoc()) {
    $posts[] = $row;
}
$stmt->close();

// ÿ¨ŸÑÿ® ÿßŸÑÿ∑ŸÑÿ®ÿßÿ™ ÿßŸÑŸÖÿ≥ÿ™ŸÑŸÖÿ© (ÿ∑ŸÑÿ®ÿßÿ™ ÿßŸÑÿ™ÿ®ÿßÿØŸÑ ÿßŸÑŸàÿßÿ±ÿØÿ©)
$received = [];
$stmt = $conn->prepare("SELECT r.*, u.Name AS TraderName FROM offerrequests r JOIN users u ON r.TraderID = u.UserID WHERE r.OwnerID = ?");
$stmt->bind_param("i", $user_id);
$stmt->execute();
$result = $stmt->get_result();
while ($row = $result->fetch_assoc()) {
    $received[] = $row;
}
$stmt->close();

// ÿ¨ŸÑÿ® ÿßŸÑÿ∑ŸÑÿ®ÿßÿ™ ÿßŸÑŸÖÿ±ÿ≥ŸÑÿ© (ÿ∑ŸÑÿ®ÿßÿ™ ÿßŸÑÿ™ÿ®ÿßÿØŸÑ ÿßŸÑÿ™Ÿä ÿ£ÿ±ÿ≥ŸÑÿ™Ÿáÿß)
$sent = [];
$stmt = $conn->prepare("SELECT r.*, u.Name AS OwnerName, u.Email AS OwnerEmail, u.PhoneNumber AS OwnerPhone FROM offerrequests r JOIN users u ON r.OwnerID = u.UserID WHERE r.TraderID = ?");
$stmt->bind_param("i", $user_id);
$stmt->execute();
$result = $stmt->get_result();
while ($row = $result->fetch_assoc()) {
    $sent[] = $row;
}
$stmt->close();

$conn->close();
?>
<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <title>ÿßŸÑŸÖŸÑŸÅ ÿßŸÑÿ¥ÿÆÿµŸä - ŸÉŸêŸÅŸéÿßÿ°</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/mark.js/dist/mark.min.js"></script>

    <style>
      html {
    box-sizing: border-box;
}

*, *:before, *:after {
    box-sizing: inherit;
}

body {
    font-family: 'Cairo', sans-serif;
    margin: 0;
    padding: 0;
    background-color: #f4f4f4;
    color: #333;
    font-size: 100%; /* Ensures 1em = 16px */
}

/* ====== HEADER ====== */
header {
    background-color: #035352;
    padding: 0.9375em 3.125em; /* 15px 50px */
    display: flex;
    justify-content: space-between;
    align-items: center;
}

header img {
    height: 4.375em; /* 70px */
}

nav ul {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    align-items: center;
}

nav ul li {
    margin: 0 1.875em; /* 30px */
}

nav ul li a {
    color: white;
    text-decoration: none;
    font-size: 1.125em; /* 18px */
}

nav ul li a:hover,
nav ul li a:focus,
nav ul li a:active {
    color: #bfcfb2;
    text-decoration: none !important;
}

a {
    text-decoration: none !important;
    color: inherit;
}

a:hover, a:focus, a:active {
    text-decoration: none !important;
}

/* ====== MAIN CONTAINER ====== */
.profile-container {
    max-width: 56.25em; /* 900px */
    margin: 2.5em auto; /* 40px */
    padding: 1.25em; /* 20px */
}

h1 {
    text-align: center;
    margin-bottom: 1.25em; /* 20px */
}

/* ====== CARD DESIGN ====== */
.card {
    background: white;
    padding: 1.25em; /* 20px */
    border-radius: 0.625em; /* 10px */
    box-shadow: 0 0.25em 0.375em rgba(0, 0, 0, 0.1); /* 4px 6px */
    margin-bottom: 1.875em; /* 30px */
}

/* ====== USER DETAILS ====== */
.profile-details p {
    font-size: 1em; /* 16px */
}

.edit-btn {
    display: inline-block;
    margin-top: 0.625em; /* 10px */
    padding: 0.5em 0.9375em; /* 8px 15px */
    background-color: #035352;
    color: white;
    text-decoration: none;
    border-radius: 0.3125em; /* 5px */
    cursor: pointer;
}

.edit-btn:hover {
    background-color: #028484;
}

/* ====== REQUESTS + POSTS ====== */
.post-item, .request-item {
    background: #fff;
    padding: 0.9375em; /* 15px */
    border-radius: 0.5em; /* 8px */
    box-shadow: 0 0.25em 0.375em rgba(0, 0, 0, 0.1); /* 4px 6px */
    margin-bottom: 0.9375em; /* 15px */
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.post-item button, .request-item button {
    padding: 0.3125em 0.625em; /* 5px 10px */
    border: none;
    cursor: pointer;
    border-radius: 0.3125em; /* 5px */
    font-size: 0.875em; /* 14px */
}

.edit-post {
    padding: 0 0.3125em; /* 0px 5px */
    background-color: #035352;
    color: white;
    border-radius: 0.3125em; /* 5px */
    text-align: center;
    font-size: 0.8125em; /* 13px */
    min-width: 1.875em; /* 30px */
}

.edit-post:hover {
    background-color: #028484;
}

.delete-post {
    background-color: #cc0000;
    color: white;
}

.add-post-btn {
    display: block;
    text-align: center;
    padding: 0.625em; /* 10px */
    background-color: #035352;
    color: white;
    border-radius: 0.3125em; /* 5px */
    text-decoration: none;
    font-size: 1em; /* 16px */
    margin-top: 1.25em; /* 20px */
}

.add-post-btn:hover {
    background-color: #028484;
}

/* ====== FOOTER ====== */
footer {
    background-color: #035352;
    color: white;
    text-align: center;
    padding: 1.25em 3.125em; /* 20px 50px */
    display: flex;
    flex-direction: column;
    align-items: center;
}

.footer-sections {
    display: flex;
    justify-content: space-between;
    width: 100%;
}

.footer-section {
    max-width: 18.75em; /* 300px */
}

.footer-section h3 {
    margin-bottom: 0.625em; /* 10px */
}

.newsletter {
    display: flex;
    flex-direction: column;
}

.newsletter input {
    padding: 0.5em; /* 8px */
    margin-bottom: 0.625em; /* 10px */
    border: none;
    border-radius: 0.25em; /* 4px */
}

.newsletter button {
    padding: 0.5em; /* 8px */
    background-color: #028484;
    color: white;
    border: none;
    border-radius: 0.25em; /* 4px */
    cursor: pointer;
}

/* ====== SEARCH BOX ====== */
.search-box {
    display: none;
    position: absolute;
    top: 5em; /* 80px */
    left: 50%;
    transform: translateX(-50%);
    background: white;
    padding: 0.625em 0.9375em; /* 10px 15px */
    border-radius: 1.5625em; /* 25px */
    box-shadow: 0 0.25em 0.5em rgba(0, 0, 0, 0.2); /* 4px 8px */
    width: 20em; /* 320px */
    display: flex;
    align-items: center;
    gap: 0.625em; /* 10px */
    border: 0.0625em solid #ccc; /* 1px */
    transition: opacity 0.3s ease, transform 0.3s ease;
    opacity: 0;
    visibility: hidden;
    z-index: 1000;
}

.search-box input {
    flex: 1;
    padding: 0.75em; /* 12px */
    border: none;
    border-radius: 1.25em; /* 20px */
    font-size: 1em; /* 16px */
    outline: none;
    background: #f9f9f9;
}

.search-box button {
    background: #035352;
    color: white;
    border: none;
    padding: 0.625em; /* 10px */
    border-radius: 50%;
    cursor: pointer;
    font-size: 1em; /* 16px */
    display: flex;
    align-items: center;
    justify-content: center;
    width: 2.5em; /* 40px */
    height: 2.5em; /* 40px */
}

.search-box button:hover {
    background: #028484;
}
.first-match {
    background-color: yellow;
}
    </style>
</head>
<body>
    <!-- HEADER -->
    <header>
        <img src="logo.png" alt="ŸÉŸêŸÅŸéÿßÿ°">
        <nav>
            <ul>
                <li><a href="index.php">ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©</a></li>
                <li><a href="about.php">ŸÖŸÜ ŸÜÿ≠ŸÜ</a></li>
                <li><a href="trading.php">ÿßŸÑÿ™ÿ®ÿßÿØŸÑ</a></li>
                <li class="icon-group">
                    <a href="profile.php"><img src="user-icon.png" style="width: 30px; height: 30px;" alt="ÿßŸÑŸÖŸÑŸÅ ÿßŸÑÿ¥ÿÆÿµŸä"></a>
                    <img src="search-icon.png" id="searchIcon" class="search-icon" style="width: 25px; height: 25px;" alt="ÿ®ÿ≠ÿ´">
                </li>
                <li><a href="profile.php?action=logout" class="login-btn">ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨</a></li>
            </ul>
        </nav>
    </header>

    <!-- SEARCH BOX -->
    <div id="searchBarContainer" class="search-box">
        <input type="text" id="searchInput" placeholder="ÿßÿ®ÿ≠ÿ´ ÿπŸÜ ÿßŸÑŸÖŸÜÿ™ÿ¨ÿßÿ™ ÿ£Ÿà ÿßŸÑÿÆÿØŸÖÿßÿ™...">
        <button onclick="performSearch()">üîç</button>
    </div>

    <!-- PROFILE CONTAINER -->
    <div class="profile-container">
        <h1>ÿßŸÑŸÖŸÑŸÅ ÿßŸÑÿ¥ÿÆÿµŸä ŸÑŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ: <?php echo htmlspecialchars($user['Name']); ?></h1>
        
        <!-- ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ -->
        <div class="card profile-details">
            <h3>ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ</h3>
            <p><strong>ÿßŸÑÿßÿ≥ŸÖ:</strong> <?php echo htmlspecialchars($user['Name']); ?></p>
            <p><strong>ÿßŸÑÿ¨ŸÜÿ≥:</strong> <?php echo htmlspecialchars($user['Gender']); ?></p>
            <p><strong>ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä:</strong> <?php echo htmlspecialchars($user['Email']); ?></p>
            <p><strong>ÿ±ŸÇŸÖ ÿßŸÑŸáÿßÿ™ŸÅ:</strong> <?php echo htmlspecialchars($user['PhoneNumber']); ?></p>
            <p><strong>ÿßŸÑŸÖÿØŸäŸÜÿ©:</strong> <?php echo htmlspecialchars($user['City']); ?></p>
            <a href="edit-profile.php" class="edit-btn">ÿ™ÿπÿØŸäŸÑ ÿßŸÑŸÖÿπŸÑŸàŸÖÿßÿ™</a>
        </div>

        <!-- ÿßŸÑÿ∑ŸÑÿ®ÿßÿ™ ÿßŸÑŸÖÿ≥ÿ™ŸÑŸÖÿ© -->
        <div class="card">
            <h3>ÿ∑ŸÑÿ®ÿßÿ™ ÿßŸÑÿ™ÿ®ÿßÿØŸÑ ÿßŸÑŸÖÿ≥ÿ™ŸÑŸÖÿ©</h3>
            <?php if(count($received) > 0): ?>
                <?php foreach($received as $r): ?>
                    <div class="request-item">
                        <span>ÿ∑ŸÑÿ®: <?php echo htmlspecialchars($r['OfferDetails']); ?> ŸÖŸÜ <?php echo htmlspecialchars($r['TraderName']); ?></span>
                        <a href="request-details.php?requestId=<?php echo $r['RequestID']; ?>" style="background-color: #035352; color: white; padding: 8px 12px; border: none; border-radius: 5px; font-size: 14px; text-decoration:none;">ÿπÿ±ÿ∂ ÿßŸÑÿ∑ŸÑÿ®</a>
                    </div>
                <?php endforeach; ?>
            <?php else: ?>
                <p>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ∑ŸÑÿ®ÿßÿ™ ŸÖÿ≥ÿ™ŸÑŸÖÿ©.</p>
            <?php endif; ?>
        </div>

        <!-- ÿßŸÑÿ∑ŸÑÿ®ÿßÿ™ ÿßŸÑŸÖÿ±ÿ≥ŸÑÿ© -->
        <div class="card">
            <h3>ÿßŸÑÿ∑ŸÑÿ®ÿßÿ™ ÿßŸÑÿ™Ÿä ŸÇŸÖÿ™ ÿ®ÿ•ÿ±ÿ≥ÿßŸÑŸáÿß</h3>
            <?php if(count($sent) > 0): ?>
                <?php foreach($sent as $s): ?>
                    <div class="request-item" style="flex-direction: column; align-items: flex-start;">
                        <span>ÿ∑ŸÑÿ®: <?php echo htmlspecialchars($s['OfferDetails']); ?> ÿ•ŸÑŸâ <?php echo htmlspecialchars($s['OwnerName']); ?></span>
                        <?php if($s['RequestStatus'] === 'ÿ™ŸÖ ÿßŸÑŸÇÿ®ŸàŸÑ'): ?>
                            <div style="margin-top: 5px; padding: 10px; background-color: #f9f9f9; border-radius: 5px;">
                                <p><strong>ÿßŸÑÿ®ÿ±ŸäÿØ:</strong> <?php echo htmlspecialchars($s['OwnerEmail']); ?></p>
                                <p><strong>ÿßŸÑŸáÿßÿ™ŸÅ:</strong> <?php echo htmlspecialchars($s['OwnerPhone']); ?></p>
                            </div>
                        <?php endif; ?>
                        <span style="padding: 5px 10px; border-radius: 5px; background-color: <?php echo ($s['RequestStatus'] === 'ÿßŸÜÿ™ÿ∏ÿßÿ±') ? '#ff9800' : (($s['RequestStatus'] === 'ÿ™ŸÖ ÿßŸÑŸÇÿ®ŸàŸÑ') ? '#028484' : '#cc0000'); ?>; color: white; font-size:14px;">
                            <?php echo htmlspecialchars($s['RequestStatus']); ?>
                        </span>
                    </div>
                <?php endforeach; ?>
            <?php else: ?>
                <p>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ∑ŸÑÿ®ÿßÿ™ ŸÖÿ±ÿ≥ŸÑÿ©.</p>
            <?php endif; ?>
        </div>

        <!-- ÿßŸÑŸÖŸÜÿ¥Ÿàÿ±ÿßÿ™ -->
        <div class="card">
            <h3>ÿßŸÑŸÖŸÜÿ™ÿ¨ÿßÿ™ ÿßŸÑÿ™Ÿä ŸÇŸÖÿ™ ÿ®ŸÜÿ¥ÿ±Ÿáÿß</h3>
            <?php if(count($posts) > 0): ?>
                <?php foreach($posts as $p): ?>
                    <div class="post-item">
                        <span><?php echo htmlspecialchars($p['PostTitle']); ?></span>
                        <div>
                            <a href="edit-post.php?postId=<?php echo $p['PostID']; ?>" class="edit-post">ÿ™ÿπÿØŸäŸÑ</a>
                            <form action="" method="POST" style="display:inline;">
                                <input type="hidden" name="delete_post_id" value="<?php echo $p['PostID']; ?>">
                                <button type="submit" class="delete-post">ÿ≠ÿ∞ŸÅ</button>
                            </form>
                        </div>
                    </div>
                <?php endforeach; ?>
            <?php else: ?>
                <p>ŸÑŸÖ ÿ™ŸÇŸÖ ÿ®ŸÜÿ¥ÿ± ÿ£Ÿä ŸÖŸÜÿ™ÿ¨ÿßÿ™ ÿ®ÿπÿØ.</p>
            <?php endif; ?>
            <a href="add-post.php" class="add-post-btn">‚ûï ÿ£ÿ∂ŸÅ ÿ•ÿπŸÑÿßŸÜ ÿ¨ÿØŸäÿØ</a>
        </div>
    </div>

    <!-- FOOTER -->
   
      <footer>
        <div class="footer-sections">
            <div class="footer-section">
                <h3>ÿ±Ÿàÿßÿ®ÿ∑ ÿ≥ÿ±Ÿäÿπÿ©</h3>
                <p><a href="index.php">ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©</a> | <a href="about.php">ŸÖŸÜ ŸÜÿ≠ŸÜ</a> | <a href="trading.php">ÿßŸÑÿ™ÿ®ÿßÿØŸÑ</a></p>
            </div>
            <div class="footer-section">
                <h3>ÿßŸÜÿ∂ŸÖ ÿ•ŸÑŸäŸÜÿß</h3>
                <p>ÿßÿ¥ÿ™ÿ±ŸÉ ŸÅŸä ŸÜÿ¥ÿ±ÿ™ŸÜÿß ÿßŸÑÿ•ÿÆÿ®ÿßÿ±Ÿäÿ© ŸÑŸÖÿ™ÿßÿ®ÿπÿ© ÿ¢ÿÆÿ± ÿßŸÑÿπÿ±Ÿàÿ∂.</p>
                <div class="newsletter">
                    <input type="email" placeholder="ÿ®ÿ±ŸäÿØŸÉ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä" id="newsletterEmail">
                    <button onclick="subscribeNews()">ÿßÿ¥ÿ™ÿ±ŸÉ</button>
                </div>
            </div>
            <div class="footer-section">
                <h3>ÿ™ŸàÿßÿµŸÑ ŸÖÿπŸÜÿß</h3>
                <p>ÿßŸÑÿ±Ÿäÿßÿ∂ÿå ÿßŸÑŸÖŸÖŸÑŸÉÿ© ÿßŸÑÿπÿ±ÿ®Ÿäÿ© ÿßŸÑÿ≥ÿπŸàÿØŸäÿ©</p>
                <p>üìû 010-020-0340</p>
                <p>üìß info@kafaa.com</p>
            </div>
        </div>
    </footer>

    <script>
        document.getElementById("searchIcon").addEventListener("click", function () {
            let searchBar = document.getElementById("searchBarContainer");
            searchBar.style.opacity = (searchBar.style.opacity === "0" || searchBar.style.opacity === "") ? "1" : "0";
            searchBar.style.visibility = (searchBar.style.visibility === "hidden" || searchBar.style.visibility === "") ? "visible" : "hidden";
        });

      function performSearch() {
    let query = document.getElementById("searchInput").value.trim();
    if (query === "") {
        alert("ÿßŸÑÿ±ÿ¨ÿßÿ° ÿ•ÿØÿÆÿßŸÑ ŸÉŸÑŸÖÿ© ŸÑŸÑÿ®ÿ≠ÿ´.");
        return;
    }
    
    // ŸÜÿ≠ÿØÿØ ÿßŸÑÿ≥ŸäÿßŸÇ ÿßŸÑÿ∞Ÿä ÿ≥Ÿäÿ™ŸÖ ÿßŸÑÿ®ÿ≠ÿ´ ŸÅŸäŸáÿå ŸáŸÜÿß ŸÜÿ≥ÿ™ÿÆÿØŸÖ body ŸÑŸÉŸÜ ŸäŸÖŸÉŸÜŸÉ ÿ™ÿ∫ŸäŸäÿ±Ÿá ÿ•ÿ∞ÿß ÿ£ÿ±ÿØÿ™
    let context = document.querySelector("body");
    let markInstance = new Mark(context);
    
    // ÿ•ÿ≤ÿßŸÑÿ© ÿßŸÑÿ™ÿ≠ÿØŸäÿØÿßÿ™ ÿßŸÑÿ≥ÿßÿ®ŸÇÿ©
    markInstance.unmark({
        done: function() {
            // ÿ™ÿ≠ÿØŸäÿØ ÿßŸÑŸÜÿµŸàÿµ ÿßŸÑŸÖÿ∑ÿßÿ®ŸÇÿ©
            markInstance.mark(query, {
                "each": function(element) {
                    // ÿ•ÿ∞ÿß ŸÑŸÖ Ÿäÿ™ŸÖ ÿ™ÿ≠ÿØŸäÿØ ÿ£ŸàŸÑ ŸÜÿ™Ÿäÿ¨ÿ© ÿ®ÿπÿØÿå ŸÇŸÖ ÿ®ÿ™ÿ≠ÿØŸäÿØŸáÿß Ÿàÿ™ŸÖÿ±Ÿäÿ± ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿ•ŸÑŸäŸáÿß
                    if (!document.querySelector(".first-match")) {
                        element.classList.add("first-match");
                        element.scrollIntoView({ behavior: "smooth", block: "center" });
                    }
                }
            });
        }
    });
}
		
		function subscribeNews() {
            let emailInput = document.getElementById("newsletterEmail");
            let emailValue = emailInput.value.trim();
            let emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailPattern.test(emailValue)) {
                alert("ÿßŸÑÿ±ÿ¨ÿßÿ° ÿ•ÿØÿÆÿßŸÑ ÿ®ÿ±ŸäÿØ ÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä ÿµÿ≠Ÿäÿ≠!");
                return;
            }
            alert("ÿ™ŸÖ ÿßŸÑÿßÿ¥ÿ™ÿ±ÿßŸÉ ÿ®ŸÜÿ¨ÿßÿ≠ ŸÅŸä ÿßŸÑŸÜÿ¥ÿ±ÿ© ÿßŸÑÿ•ÿÆÿ®ÿßÿ±Ÿäÿ©!");
            emailInput.value = "";
        }
    </script>
</body>
</html>
